<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类型 | 大木_笔记</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="记录工作和学习过程中的笔记">
    <link rel="preload" href="/ysblog/assets/css/0.styles.e661b340.css" as="style"><link rel="preload" href="/ysblog/assets/js/app.05f40ecb.js" as="script"><link rel="preload" href="/ysblog/assets/js/2.101f09ec.js" as="script"><link rel="preload" href="/ysblog/assets/js/13.641bf3cf.js" as="script"><link rel="prefetch" href="/ysblog/assets/js/10.aba1ce7e.js"><link rel="prefetch" href="/ysblog/assets/js/11.232cd946.js"><link rel="prefetch" href="/ysblog/assets/js/12.22125e24.js"><link rel="prefetch" href="/ysblog/assets/js/14.24ccc943.js"><link rel="prefetch" href="/ysblog/assets/js/15.56161087.js"><link rel="prefetch" href="/ysblog/assets/js/16.205bd373.js"><link rel="prefetch" href="/ysblog/assets/js/17.bd633a29.js"><link rel="prefetch" href="/ysblog/assets/js/18.33d43e7e.js"><link rel="prefetch" href="/ysblog/assets/js/19.a2911d20.js"><link rel="prefetch" href="/ysblog/assets/js/20.07624a1c.js"><link rel="prefetch" href="/ysblog/assets/js/21.a4151fba.js"><link rel="prefetch" href="/ysblog/assets/js/22.141540b5.js"><link rel="prefetch" href="/ysblog/assets/js/23.91fde9ee.js"><link rel="prefetch" href="/ysblog/assets/js/24.cca104ac.js"><link rel="prefetch" href="/ysblog/assets/js/25.5cc0b6e3.js"><link rel="prefetch" href="/ysblog/assets/js/26.5835c007.js"><link rel="prefetch" href="/ysblog/assets/js/27.132ee99d.js"><link rel="prefetch" href="/ysblog/assets/js/28.dae014a1.js"><link rel="prefetch" href="/ysblog/assets/js/29.a922ac25.js"><link rel="prefetch" href="/ysblog/assets/js/3.859ec158.js"><link rel="prefetch" href="/ysblog/assets/js/30.215eea15.js"><link rel="prefetch" href="/ysblog/assets/js/31.a6a3ecad.js"><link rel="prefetch" href="/ysblog/assets/js/32.2f04c66d.js"><link rel="prefetch" href="/ysblog/assets/js/33.2e16f460.js"><link rel="prefetch" href="/ysblog/assets/js/34.6f7d019b.js"><link rel="prefetch" href="/ysblog/assets/js/35.72665780.js"><link rel="prefetch" href="/ysblog/assets/js/36.f8c9d77b.js"><link rel="prefetch" href="/ysblog/assets/js/37.aa3efe17.js"><link rel="prefetch" href="/ysblog/assets/js/38.6cb4e1db.js"><link rel="prefetch" href="/ysblog/assets/js/39.43e17a0d.js"><link rel="prefetch" href="/ysblog/assets/js/4.ee24ae0f.js"><link rel="prefetch" href="/ysblog/assets/js/5.bd54095f.js"><link rel="prefetch" href="/ysblog/assets/js/6.dcc1de99.js"><link rel="prefetch" href="/ysblog/assets/js/7.316c9739.js"><link rel="prefetch" href="/ysblog/assets/js/8.87405e82.js"><link rel="prefetch" href="/ysblog/assets/js/9.de91e189.js">
    <link rel="stylesheet" href="/ysblog/assets/css/0.styles.e661b340.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ysblog/" class="home-link router-link-active"><!----> <span class="site-name">大木_笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ysblog/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ysblog/web/JS/blog1.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/browser/blog1.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/jQuery/blog1.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/underscore/blog1.html" class="nav-link">
  underscore
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/webpack/blog1.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/vue/blog1.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构" class="dropdown-title"><span class="title">数据结构</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据结构" class="mobile-dropdown-title"><span class="title">数据结构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ysblog/DataStructure/queue/blog1.html" class="nav-link">
  队列
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ysblog/other/regex/blog1.html" class="nav-link">
  正则表达式
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ysblog/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ysblog/web/JS/blog1.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/browser/blog1.html" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/jQuery/blog1.html" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/underscore/blog1.html" class="nav-link">
  underscore
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/webpack/blog1.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/ysblog/web/vue/blog1.html" class="nav-link">
  vue
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构" class="dropdown-title"><span class="title">数据结构</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据结构" class="mobile-dropdown-title"><span class="title">数据结构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ysblog/DataStructure/queue/blog1.html" class="nav-link">
  队列
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ysblog/other/regex/blog1.html" class="nav-link">
  正则表达式
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ysblog/web/JS/blog8.html" class="sidebar-link">函数</a></li><li><a href="/ysblog/web/JS/blog7.html" class="sidebar-link">变量及函数提升</a></li><li><a href="/ysblog/web/JS/blog6.html" class="sidebar-link">作用域与命名空间</a></li><li><a href="/ysblog/web/JS/blog1.html" aria-current="page" class="active sidebar-link">类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#类型转换" class="sidebar-link">类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#强制转换规则" class="sidebar-link">强制转换规则</a></li><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#字符串连接符-算术运算符" class="sidebar-link">字符串连接符，算术运算符</a></li><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#关系运算符" class="sidebar-link">关系运算符</a></li><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#复杂数据类型" class="sidebar-link">复杂数据类型</a></li><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#逻辑非运算符" class="sidebar-link">逻辑非运算符</a></li></ul></li><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#相等与比较" class="sidebar-link">相等与比较</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#等于操作符" class="sidebar-link">等于操作符 ==</a></li></ul></li><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#严格等于操作符" class="sidebar-link">严格等于操作符</a></li><li class="sidebar-sub-header"><a href="/ysblog/web/JS/blog1.html#比较对象" class="sidebar-link">比较对象</a></li></ul></li><li><a href="/ysblog/web/JS/blog9.html" class="sidebar-link">原型继承</a></li><li><a href="/ysblog/web/JS/blog5.html" class="sidebar-link">构造函数</a></li><li><a href="/ysblog/web/JS/blog2.html" class="sidebar-link">this 的工作原理</a></li><li><a href="/ysblog/web/JS/blog3.html" class="sidebar-link">闭包和引用</a></li><li><a href="/ysblog/web/JS/blog4.html" class="sidebar-link">arguments 对象</a></li><li><a href="/ysblog/web/JS/blog10.html" class="sidebar-link">Promise</a></li><li><a href="/ysblog/web/JS/blog11.html" class="sidebar-link">偏函数</a></li><li><a href="/ysblog/web/JS/blog12.html" class="sidebar-link">require 和 import</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="类型"><a href="#类型" class="header-anchor">#</a> 类型</h1> <h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <h3 id="强制转换规则"><a href="#强制转换规则" class="header-anchor">#</a> 强制转换规则</h3> <ol><li><strong>转成string类型：</strong>  +（字符串连接符）</li> <li><strong>转成number类型：</strong>  ++/--(自增自减运算符) + - * / %(算术运算符) &gt; &lt; &gt;= &lt;= == != === !=== (关系运算符)</li> <li><strong>转成boolean类型：</strong> !（逻辑非运算符）</li></ol> <h3 id="字符串连接符-算术运算符"><a href="#字符串连接符-算术运算符" class="header-anchor">#</a> 字符串连接符，算术运算符</h3> <ol><li>字符串连接符，+ 左右两边只要有一个是string类型，会把其他数据类型调用String（）方法转换成字符串，然后进行拼接</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span> <span class="token comment">//'1true'   字符串连接符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//'1'   [].toString() =&gt; ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//'1[object Object]'</span>

</code></pre></div><ol start="2"><li>算术运算，会把其他数据类型调用Number（）方法，然后进行运算</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">//2   算数运算符，true会转为1，Number(true) =&gt; 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">//NaN    算数运算符，undefined转为NaN，Number(undefined) =&gt; NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">//1   算数运算符，null转为0，Number(null) =&gt; 0</span>
</code></pre></div><h3 id="关系运算符"><a href="#关系运算符" class="header-anchor">#</a> 关系运算符</h3> <ol><li>一边是数字，把另一边的其他数据类型调用Number（）方法，把数据转换成number之后再比较关系</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//false Number(&quot;2&quot;) =&gt; 2</span>
</code></pre></div><ol start="2"><li>都是字符串，先转ASCII码再比较，<strong>不是调用Number（）方法转成数字，而是按照字符串对应的unicode编码来转成数字，通过 &quot;字符&quot;.charCodeAt(字符下标，默认为0)</strong></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span> <span class="token comment">//true &quot;2&quot;.charCodeAt() &gt; &quot;10&quot;.charCodeAt()</span>
</code></pre></div><ol start="3"><li>多个字符从左到右依次比较</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//&quot;a&quot;.charCodeAt() =&gt; 97</span>
<span class="token comment">//&quot;b&quot;.charCodeAt() =&gt; 98</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token operator">&gt;</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token operator">&gt;</span><span class="token string">&quot;ab&quot;</span><span class="token punctuation">)</span> <span class="token comment">//true    先比较b和a的大小，b的unicode编码大于a编码，直接返回结果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ba&quot;</span><span class="token operator">&gt;</span><span class="token string">&quot;bb&quot;</span><span class="token punctuation">)</span> <span class="token comment">//true   先比较b和a的大小，b的unicode编码大于a编码，直接返回结果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bb&quot;</span><span class="token operator">&gt;</span><span class="token string">&quot;ba&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//true  第一位b跟b相同，比较第二位大小</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bba&quot;</span><span class="token operator">&gt;</span><span class="token string">&quot;bb&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//true</span>
</code></pre></div><ol start="4"><li>一遍是字符串，一边是布尔，都转换成number类型</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">==</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">==</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">==</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">==</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
</code></pre></div><ol start="5"><li>特殊情况</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
</code></pre></div><h3 id="复杂数据类型"><a href="#复杂数据类型" class="header-anchor">#</a> 复杂数据类型</h3> <ol><li><strong>装箱操作：</strong> 把基本数据类型转换为对应的引用类型的操作称为装箱
每当读取一个基本类型的时候，后台就会创建一个对应的基本包装类型对象，从而让我们能够调用一些方法来操作这些数据。</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">&quot;some text&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如上所视，变量s1是一个基本类型值，它不是对象，所以它不应该有方法。但是js内部为我们完成了一系列处理（即我们称之为装箱），使得它能够调用方法,实现的机制如下：
创建String类型的一个实例<br>
创建String类型的一个实例<br>
销毁这个实例</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> s1  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;some text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li><strong>拆箱操作：</strong> 把引用类型转换为基本的数据类型称为拆箱
拆箱操作中主要有两个方法，valueOf()方法和toString()方法。这两个方法主要用来检测你返回的是不是一个基本类型的值。一般是先用valueOf()来检测，如果返回的不是一个基本类型的值，是对象自身，则会继续用toString()来检测，如果检测结果不是一个基本类型的值，则会报错</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&quot;1,2&quot;</span><span class="token punctuation">)</span>    <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//[1, 2]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//'1,2'</span>

<span class="token comment">//重写valueOf方法</span>
<span class="token comment">//valueOf方法换成toString也可以</span>
<span class="token comment">//valueOf跟toString方法都写，先调用valueOf，如果返回本身，则继续调用toString，否则直接返回</span>
<span class="token keyword">var</span> a <span class="token operator">=</span><span class="token punctuation">{</span>
    i<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">++</span>a<span class="token punctuation">.</span>i
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>a<span class="token operator">==</span><span class="token number">2</span><span class="token operator">&amp;&amp;</span>a<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>i<span class="token punctuation">)</span>    <span class="token comment">//3</span>
<span class="token punctuation">}</span>
</code></pre></div><p>复杂数据类型在强制转换时会先转成String，然后再转成Number运算</p> <h3 id="逻辑非运算符"><a href="#逻辑非运算符" class="header-anchor">#</a> 逻辑非运算符</h3> <p>逻辑非：将其他数据类型通过Boolean（）方法转换成布尔类型</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//以下八种会转化为false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//false</span>

<span class="token comment">//以下会转化为true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">//true</span>
</code></pre></div><p>因此 ![] =&gt; false，!{} =&gt; false</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//1、{}调用toString（）方法变成&quot;[object Object]&quot;。 </span>
<span class="token comment">//2、Number(&quot;[object Object]&quot;) =&gt; NaN，Number(false) =&gt; 0</span>
<span class="token comment">//3、NaN == 0 =&gt; false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token operator">!</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>     <span class="token comment">//false  </span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>     <span class="token comment">//false   引用类型数据存在堆中，对象跟对象比较始终是false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token operator">!</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>     <span class="token comment">//true</span>
</code></pre></div><h2 id="相等与比较"><a href="#相等与比较" class="header-anchor">#</a> 相等与比较</h2> <h3 id="等于操作符"><a href="#等于操作符" class="header-anchor">#</a> 等于操作符 ==</h3> <p>等于操作符由两个等号组成：==</p> <p>JavaScript 是弱类型语言，这就意味着，等于操作符会为了比较两个值而进行强制类型转换。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;&quot;</span>           <span class="token operator">==</span>   <span class="token string">&quot;0&quot;</span>           <span class="token comment">// false  </span>
<span class="token comment">//一边是数字，另一边变成数字，Number（&quot;&quot;） =&gt; 0</span>
<span class="token number">0</span>            <span class="token operator">==</span>   <span class="token string">&quot;&quot;</span>            <span class="token comment">// true</span>
<span class="token comment">//Number（&quot;0&quot;） =&gt; 0</span>
<span class="token number">0</span>            <span class="token operator">==</span>   <span class="token string">&quot;0&quot;</span>           <span class="token comment">// true</span>

<span class="token comment">//左右两边转换为number</span>
<span class="token boolean">false</span>        <span class="token operator">==</span>   <span class="token string">&quot;false&quot;</span>       <span class="token comment">// false</span>
<span class="token boolean">false</span>        <span class="token operator">==</span>   <span class="token string">&quot;0&quot;</span>           <span class="token comment">// true</span>

<span class="token boolean">false</span>        <span class="token operator">==</span>   <span class="token keyword">undefined</span>     <span class="token comment">// false</span>
<span class="token boolean">false</span>        <span class="token operator">==</span>   <span class="token keyword">null</span>          <span class="token comment">// false</span>
<span class="token keyword">null</span>         <span class="token operator">==</span>   <span class="token keyword">undefined</span>     <span class="token comment">// true</span>

<span class="token comment">//Number(&quot; \t\r\n&quot;) =&gt; 0</span>
<span class="token string">&quot; \t\r\n&quot;</span>    <span class="token operator">==</span>   <span class="token number">0</span>             <span class="token comment">// true</span>
</code></pre></div><p>上面的表格展示了强制类型转换，这也是使用 == 被广泛认为是不好编程习惯的主要原因， 由于它的复杂转换规则，会导致难以跟踪的问题。</p> <p>此外，强制类型转换也会带来性能消耗，比如一个字符串为了和一个数字进行比较，必须事先被强制转换为数字。<a href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6">规则</a></p> <h2 id="严格等于操作符"><a href="#严格等于操作符" class="header-anchor">#</a> 严格等于操作符</h2> <p>严格等于操作符由三个等号组成：===</p> <p>不像普通的等于操作符，严格等于操作符不会进行强制类型转换。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;&quot;</span>           <span class="token operator">===</span>   <span class="token string">&quot;0&quot;</span>           <span class="token comment">// false</span>
<span class="token number">0</span>            <span class="token operator">===</span>   <span class="token string">&quot;&quot;</span>            <span class="token comment">// false</span>
<span class="token number">0</span>            <span class="token operator">===</span>   <span class="token string">&quot;0&quot;</span>           <span class="token comment">// false</span>
<span class="token boolean">false</span>        <span class="token operator">===</span>   <span class="token string">&quot;false&quot;</span>       <span class="token comment">// false</span>
<span class="token boolean">false</span>        <span class="token operator">===</span>   <span class="token string">&quot;0&quot;</span>           <span class="token comment">// false</span>
<span class="token boolean">false</span>        <span class="token operator">===</span>   <span class="token keyword">undefined</span>     <span class="token comment">// false</span>
<span class="token boolean">false</span>        <span class="token operator">===</span>   <span class="token keyword">null</span>          <span class="token comment">// false</span>
<span class="token keyword">null</span>         <span class="token operator">===</span>   <span class="token keyword">undefined</span>     <span class="token comment">// false</span>
<span class="token string">&quot; \t\r\n&quot;</span>    <span class="token operator">===</span>   <span class="token number">0</span>             <span class="token comment">// false</span>
</code></pre></div><p>上面的结果更加清晰并有利于代码的分析。如果两个操作数类型不同就肯定不相等也有助于性能的提升。</p> <h2 id="比较对象"><a href="#比较对象" class="header-anchor">#</a> 比较对象</h2> <p>虽然 == 和 === 操作符都是等于操作符，但是当其中有一个操作数为对象时，行为就不同了。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                   <span class="token comment">// false</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                   <span class="token comment">// false</span>

<span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'foo'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">;</span>       <span class="token comment">// false</span>
<span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">;</span>       <span class="token comment">// true</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">;</span>         <span class="token comment">// True, 数字与数字的比较</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
foo <span class="token operator">===</span> foo<span class="token punctuation">;</span>                 <span class="token comment">// true</span>
</code></pre></div><p>这里等于操作符比较的不是值是否相等，而是是否属于同一个身份；也就是说，只有对象的同一个实例才被认为是相等的。 这有点像 Python 中的 is 和 C 中的指针比较。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ysblog/web/JS/blog6.html" class="prev">
        作用域与命名空间
      </a></span> <span class="next"><a href="/ysblog/web/JS/blog9.html">
        原型继承
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ysblog/assets/js/app.05f40ecb.js" defer></script><script src="/ysblog/assets/js/2.101f09ec.js" defer></script><script src="/ysblog/assets/js/13.641bf3cf.js" defer></script>
  </body>
</html>
